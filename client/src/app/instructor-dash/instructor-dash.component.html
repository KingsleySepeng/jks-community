<hr/>
<p>instructor-dash works!</p>
<p>Can add, update,remove students!</p>

<h2>Take atendence for Class for {{selectedDate | date: 'EEEE yyy-MM-dd'}}</h2>
<form>
<input type="date" [value]="selectedDateString" (change)="onDateChange($event)"/>

<h2>Students</h2>
<ul>
<li *ngFor="let student of students" style="margin-bottom: 1em;cursor:pointer;" (click)="toggleHistory(student.id)">
  <strong> {{student.firstName}}  {{student.lastName}}</strong>

<div style="margin:0.5em 0;">
    <label>
        <input type="radio" [name]="student.id + 'attendence'" value="present" (click)="$event.stopPropagation()"
        [checked]="attendanceState[student.id]?.status==='present'" 
        (change)="onAttendanceRadioChange(student.id,'present')" />
        Present
    </label>
    <label>
        <input type="radio" [name]="student.id + 'attendence'" value="absent" (click)="$event.stopPropagation()"
         [checked]="attendanceState[student.id]?.status === 'absent'"
         (change)="onAttendanceRadioChange(student.id, 'absent')" />
        Absent
    </label>
</div>
<textarea (click)="$event.stopPropagation()" (input)="onCommentChange(student.id,$event)" placeholder="Comment on Student">
    {{ attendanceState[student.id]?.comment }}
</textarea>

    <!-- Attendance History Dropdown -->
<div *ngIf="attendanceState[student.id]?.showHistory" style="margin-top: 0.5em;">
    <h4>Attendence History</h4>
    <ul>
        <li *ngFor="let record of student.attendance">
            {{record.date | date: 'yyy-MM-dd'}} -
            {{record.status}}
            <em *ngIf="record.comments">
                ({{record.comments}})
            </em>
        </li>
    </ul>
</div>
</li>
</ul>
<button (click)="onSaveAttendence()">Save Attendence</button>
</form>
<p>Can add take attendence of classes!</p>
<hr/>